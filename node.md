# node 教程

## node 属于服务端 javascript

*   javascript 最开始是在浏览器中运行的，然而浏览器只是提供了一个上下文。node.js 实际上就是另外一种上下文，允许在后端（脱离浏览器）运行。
*   node.js 使用了 Google 的 V8 虚拟机，来解释和执行 js 代码
*   node.js 既是一个运行时环境，同时又是一个库。
*   node 本身是事件驱动的，所以 node 运行速度比较快

## 简单的基于 node.js 的 web 应用

*    用户可以通过浏览器访问我们的页面
*   当用户请求页面时，可以看到一个欢迎页和一个文件上传表单
*   用户可以提交一个表单，并选择相应的文件完成上传，完成上传后把图片显示在页面上。

## 实现简单 web 应用需要实现哪些部分？

*   需要提供 web 页面，因此需要一个 http 服务器
*   对于不同的请求，根据请求的 url，服务器需要不同的响应，因此需要一个路由，用于把请求对应到请求处理程序
*   路由还应该能处理 post 数据，并且把数据封装成更友好的格式传递给请求处理入程序，因此需要数据处理功能
*   不仅需要处理 url 对应的请求，还要把内容显示出来，这意味着我们需要一些试图逻辑供请求处理程序使用，以便将内容发送给用户的浏览器
*   最后用户需要上传图片，所以需要上传处理功能来处理

## 应用不同模块

### http 服务器

*   把不同功能的代码放在不同的模块中，保持代码分离，这样就可以有一个干净的主文件，使用 node 执行；然后还可以拥有干净的模块，可以被其他模块或者主文件调用

```js
var http = require('http');
http
    .createServer(function(request, response) {
        response.writeHead(200, {'Content-Type': 'text/plain'});
        response.write('Hello World');
        response.end();
    })
    .listen(8888);
```

### 代码分析

*   第一行请求 node 自带的 http 模块，并且把它赋值给 http 变量
*   接下来调用 http 模块提供的函数：createServer。这个函数会返回一个对象，这个对象有一个叫做 listen 的方，这个方法有一个数值参数，指定这个 http 服务器监听的端口号
*   给 createServer 函数传递了一个匿名函数
    *   基于事件驱动的回调：我们创建了服务器，
