# 模块规范

## CommonJS 规范

* 在 CommonJS 中，暴露模块使用 module.export 和 exports，用 require 加载模块，也正是由于 CommonJS 中 require 方式的推动，CMD 和 AMD 也采用 require 方式来饮用引用模块。

```js
var math = require('math');
math.add(2, 3);
```

## AMD 规范

* AMD 是 Asynchronous Module Definition（异步模块数据）。采用异步的方式加载模块，模块的加载不影响后面的那个语句运行，所有依赖这个模块的语句都定义在一个回调函数中，等待加载完成之后这个回调函数才会运行；

### 定义／导出模块

* 模块中必须使用 define()函数来定义

```js
define(id?, dependencies?, factory)
    id:字符串，模块名称(可选)
    dependencies: 是我们要载入的依赖模块(可选)，使用相对路径。,注意是数组格式
    factory: 工厂方法，返回一个模块函数

define('hello', ['jquery'], function(jquery) {
// 依赖其他模块的代码
});

define(function() {
// 不依赖其他模块的代码
});
```

### 引入模块

* 采用 require 引入模块，要求有两个参数

```js
require([module], callback);
第一个参数[module]，是一个数组，里面的成员就是要加载的模块；第二个参数callback，则是加载成功之后的回调函数。如果将前面的代码改写成AMD形式，就是下面这样
require(['math'], function (math) {
　math.add(2, 3);
});
```

* 引入 math 和 math.add 是异步的，所以 AMD 比较适合浏览器

## CMD 规范
* CMD规范是依赖就近，用的时候再进行require